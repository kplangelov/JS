<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .map-square {
            display: inline-block;
            border: 1px solid wheat;
            width: 30px;
            height: 30px;
            margin-left: 10px;
            text-align: center;

        }
    </style>
</head>

<body class="bg-dark text-white">

    <div class="container mt-5" id="map"></div>

    <script>

        const map = document.querySelector('#map');

        const maxRows = 10;
        const maxColumns = 10;

        function createMap() {

            for (let row = 1; row <= maxRows; row++) {
                for (let column = 1; column <= maxColumns; column++) {
                    map.innerHTML += `<div id="row-${row}-col-${column}" class="map-square">&#65279;</div>`;
                }
                map.innerHTML += '<br>';
            }
        }

        let snakeOnRow = 1;
        let snakeOnCol = 1;

        function fixSnake() {
            const currentPosition = document.querySelector(`#row-${snakeOnRow}-col-${snakeOnCol}`);
            currentPosition.textContent = 'o';
        }

        function moveSnake(direction) {

            const currentPosition = document.querySelector(`#row-${snakeOnRow}-col-${snakeOnCol}`);
            currentPosition.innerHTML = '&#65279;';
            if (direction === 's') {
                snakeOnRow += 1;
            }
            else if (direction === 'w') {
                snakeOnRow -= 1;
            }
            else if (direction === 'a') {
                snakeOnCol -= 1;
            }
            else {
                snakeOnCol = snakeOnCol + 1;
            }

            if (snakeOnRow === 0) {
                snakeOnRow = maxRows;
            } else if (snakeOnRow === (maxRows+1)) {
                snakeOnRow = 1;
            } else if (snakeOnCol === 0) {
                snakeOnCol = maxColumns;
            } else if (snakeOnCol === (maxColumns+1)) {
                snakeOnCol = 1;
            }


            const nextPosition = document.querySelector(`#row-${snakeOnRow}-col-${snakeOnCol}`);
            nextPosition.innerHTML = 'o';
        }

        createMap();
        fixSnake(snakeOnRow, snakeOnCol);

        let direction = undefined;

        setInterval(() => {
            //direction = dir();
            //direction = 's';
            moveSnake(direction, snakeOnRow, snakeOnCol);
            console.log(snakeOnCol);
        }, 500);

        const userMove = () => {
            if (event.key === 's' || event.key === 'S') {
                direction = 's';
            } else if (event.key === 'w' || event.key === 'W') {
                direction = 'w';
            }
            else if (event.key === 'a' || event.key === 'A') {
                direction = 'a';
            } else {
                direction = 'd';
            }
            return undefined;
        }


        document.body.addEventListener('keydown', userMove);


    </script>

    <br><br><br>
</body>

</html>